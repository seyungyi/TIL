# [ ORM ]

## ORM(Object-Relational Mapping)이란?

- 데이터베이스와 객체 지향 프로그래밍 언어간의 호환되지 않는 데이터를 변환하는 프로그래밍 기법

- 객체 관계 매핑이라 불림

- 객체 지향 언어에서 사용할 수 있는 '가상' 객체 데이터베이스를 구축하는 방법이다

- 즉, 단순하게 객체와 관계와의 설정을 의미함

- 객체(Object)의 의미는 OOP의 객체를 의미함

  > 객체와의 관계의 의미 : 개발자가 흔히 사용하고 있는 관계형 데이터베이스를 의미한다.



## ORM 개념의 등장배경

- 코딩의 반복적인 부분 줄일 수 있음
- SQL의 의존적 코딩에서 벗어나 생산적인 코딩 가능하게 함
- 유지보수가 편리해짐



## ORM 개발 방식의 변화

1. Model 1 개발 방식
   - 초기 데이터베이스 개발모델
   - JSP, Servlet에서의 Persistence layer 처리
   - 비객체지향적 프로그래밍
   - 장점 : 배우기 쉬움, 빠른 시간 내에 개발 가능
   - 단점 : 복잡도 증가, 유지보수 어려움
2. Model 2 개발 방식
   - MVC 모델에서의 데이터베이스 개발 모델
   - DAO, EJB(CMP)를 이용한 Persistence layer 개발
   - 장점 : MVC 모델 적용이 가능, 객체 단위의 개발 가능
   - 단점 : MVC/EJB에 대한 이해도 필요, 유지보수 어려움
3. ORM 개발 방식
   - Persistence Layer를 담당하는 Framework 개발모델
   - iBatis, Hibernate와 같은 Persistence를 담당하는 Framework
   - 장점 : 객체지향적 프로그래밍 가능, 쿼리를 이용하게 business layer에 집중 가능
   - 단점 : Framework에 대한 이해도 필요



## ORM 프레임워크 장점

1. 객체 지향적인 코드로 더 직관적이고 비즈니스 로직에 집중 가능하게 도와줌
   - 선언문, 할당, 종료 같은 부수적인 코드 없거나 급격히 줄어듬
   - 각종 객체에 대한 코드를 별도로 작성하기에 코드의 가독성 증가
   - `SQL`의 절차적이고 순차적 접근이 아닌 객체지향적 접근으로 인해 생산성 증가
2. 재사용 및 유지보수의 편리성 증가
   - `ORM`은 독립적으로 작성되어있어 해당 객체들을 재활용 가능
   - 모델에서 가공된 데이터를 컨트롤러에 의해 뷰와 합쳐치는 형태로 디자인 패턴을 견고하게 다지는데 유리함
   - 매핑 정보가 명확해 `ERD`를 보는 것에 대한 의존도를 낮출 수 있음
3. DMBS에 대한 종속성 감소
   - 대부분의 `ORM 솔루션`은 `DB`에 종속적이지 않음
   - 종속적이지 않다는 것은 구현 방법 뿐만아니라 많은 솔루션에서 자료형 타입까지 유효함
   - 개발자는 `Object`에 집중함으로 극단적으로 `DBMS`를 교체하는 거대한 작업에도 비교적 적은 리스크와 시간이 소요됨
   - 자바에서 가공할 경우 `equals`, `hashCode`의 오버라이드 같은 자바 기능을 이용 가능하고, 간결하고 빠른 가공이 가능함



## ORM 프레임워크 단점

1. 완벽한 ORM으로만 서비스를 구현하기 어려움

   - 사용하기는 편리하지만 설계는 매우 신중하게 해야함

   - 프로젝트 복잡성이 커질 경우 난이도 또한 올라감

   - 잘못 구현된 경우 속도 저하 및 심각할 경우 일관성이 무너지는 문제점 발생가능

   - 일부 자주 사용되는 대형 쿼리는 속도를 위해 SP를 쓰는 등 별도의 튜닝이 필요한 경우가 있음

   - DBMS의 고유기능 이용하기 어려움

     > 단점만이 아닌 특정 DBMS의 고유기능을 이용하면 이식성이 저하될 수 있다

2. 프로시저가 많은 시스템에서는 ORM의 객체 지향적인 장점을 활용하기 어려움

   - 이미 프로저시가 많은 시스템에서는 다시 객체로 바꿔야하며, 그 과정에서 생산성 저하나 리스크가 많이 발생할 수 있음

